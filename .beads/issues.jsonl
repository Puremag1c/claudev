{"id":"claudev-0ax","title":"Создать config.yaml шаблон","description":"Создать шаблон конфигурации для целевого проекта\n\n**Файл:** templates/config.template.yaml\n\n**Содержимое:**\n```yaml\n# Claudev configuration\n# Копируется в .claudev/config.yaml при установке\n\nci: false                    # GitHub Actions CI\ncd: false                    # GitHub Actions CD (releases)\nmax_parallel_executors: 3    # Параллельных Executor'ов\n\ntimeouts:\n  task: 10m                  # Таймаут на задачу\n  user_input: 30m            # Таймаут ожидания ответа user\n\nretry_limit: 3               # Попыток до эскалации\nlog_tokens: false            # Логировать расход токенов\n\ncleanup:\n  enabled: false             # Удалять старые логи\n  keep_days: 30              # Хранить N дней если enabled\n```\n\n**done_when:**\n- [ ] Файл templates/config.template.yaml создан\n- [ ] Все параметры из PROJECT.md включены\n- [ ] Комментарии на русском объясняют каждый параметр","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:58.702022+03:00","created_by":"m","updated_at":"2026-01-23T16:50:26.854267+03:00"}
{"id":"claudev-11j","title":"Решить: user silence handling","description":"После таймаута Tech Writer сохраняет draft. При следующем запуске: автоматически показать вопрос или ждать команды?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:26:05.653367+03:00","created_by":"m","updated_at":"2026-01-23T12:16:37.554973+03:00","closed_at":"2026-01-23T12:16:37.554973+03:00","close_reason":"Решено: см. PROJECT.md (23 января)"}
{"id":"claudev-1at","title":"Подтвердить: безопасность secrets","description":"Предложение: агенты не читают .env, тесты через mocks, CI через GitHub Secrets, проверка на hardcoded secrets. Нужно подтверждение.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T11:26:05.540935+03:00","created_by":"m","updated_at":"2026-01-23T12:07:59.052158+03:00","closed_at":"2026-01-23T12:07:59.052158+03:00","close_reason":"Решено: средний уровень — .gitignore + gitleaks pre-commit + инструкции агентам"}
{"id":"claudev-1dw","title":"test status","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-23T12:14:01.974254+03:00","created_by":"m","updated_at":"2026-01-23T12:14:07.059908+03:00","closed_at":"2026-01-23T12:14:07.059908+03:00","close_reason":"test"}
{"id":"claudev-1ij","title":"Написать промпт: Analyst-Security","description":"Полностью новый агент. Включить: claim триггера, анализ безопасности (OWASP, injection, auth, secrets), создание задач с --label=added-by:analyst-security, приоритет выше UX, close триггера","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:35:32.51816+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.51816+03:00"}
{"id":"claudev-2qk","title":"Создать analyst-security.md агента","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T15:06:58.924751+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.830121+03:00","closed_at":"2026-01-23T15:36:04.830121+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-2qk","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.512317+03:00","created_by":"m"}]}
{"id":"claudev-2uv","title":"DESIGN: Защита от circular dependencies","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-23T15:10:52.955028+03:00","created_by":"m","updated_at":"2026-01-23T15:13:17.654498+03:00","closed_at":"2026-01-23T15:13:17.654498+03:00","close_reason":"Решено: bd dep cycles — Architect проверяет после создания, Manager перепроверяет перед IMPLEMENTATION"}
{"id":"claudev-3h9","title":"MVP системы Claudev","notes":"Все вопросы решены. Готово к реализации: обновить файлы агентов под новую архитектуру.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.933512+03:00","created_by":"m","updated_at":"2026-01-23T15:07:17.132766+03:00","closed_at":"2026-01-23T15:07:17.132766+03:00","close_reason":"Разбито на детальные задачи"}
{"id":"claudev-3ls","title":"Написать промпт: Analyst-OPS","description":"Переименовать helper-ops→analyst-ops. Включить: claim триггера, анализ операций (deploy, monitoring, logging, scaling), создание задач с --label=added-by:analyst-ops, close триггера","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:35:32.627703+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.627703+03:00"}
{"id":"claudev-3u4","title":"Написать промпт: Analyst-UX","description":"Переименовать helper-ux→analyst-ux. Включить: claim своей задачи-триггера, анализ UX (loading/error/empty states, user flows, mobile), создание задач с --label=added-by:analyst-ux, close триггера","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:35:32.406657+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.406657+03:00"}
{"id":"claudev-4e3","title":"Формат данных между ролями","notes":"Нужно определить: формат SPEC.md (есть набросок), формат задачи в beads для Executor","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.512524+03:00","created_by":"m","updated_at":"2026-01-23T11:25:55.483105+03:00","closed_at":"2026-01-23T11:25:55.483105+03:00","close_reason":"Решено: MVP scope через Tech Writer, формат задачи (title/files/done_when), все роли определены"}
{"id":"claudev-4eq","title":"DESIGN: Что делать когда лимит эскалаций исчерпан","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-23T15:10:52.842314+03:00","created_by":"m","updated_at":"2026-01-23T15:13:03.780061+03:00","closed_at":"2026-01-23T15:13:03.780061+03:00","close_reason":"Решено: blocked:escalation-limit + полное описание в notes + зависимое дерево блокируется"}
{"id":"claudev-4zm","title":"Написать промпт: Manager","description":"Переписать под новую архитектуру. Включить: определение фазы, создание задач-триггеров (run-analyst-*, run-plan-review), проверка завершения фаз, переходы между фазами, финальный отчёт, логирование","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:35:31.928638+03:00","created_by":"m","updated_at":"2026-01-23T15:35:31.928638+03:00"}
{"id":"claudev-5a6","title":"Обновить docs/architecture.md под новую архитектуру","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T16:25:42.739732+03:00","created_by":"m","updated_at":"2026-01-23T16:25:42.739732+03:00"}
{"id":"claudev-5wy","title":"Обновить manager.md под новую архитектуру","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:59.162247+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.825138+03:00","closed_at":"2026-01-23T15:36:04.825138+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-5wy","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.086161+03:00","created_by":"m"},{"issue_id":"claudev-5wy","depends_on_id":"claudev-qru","type":"blocks","created_at":"2026-01-23T15:07:12.137321+03:00","created_by":"m"}]}
{"id":"claudev-76e","title":"Подтвердить: подход к merge conflicts","description":"Предложение: простой конфликт — Senior Executor сам, семантический — задача для Architect. Нужно подтверждение.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:26:05.316917+03:00","created_by":"m","updated_at":"2026-01-23T12:16:37.551064+03:00","closed_at":"2026-01-23T12:16:37.551064+03:00","close_reason":"Решено: см. PROJECT.md (23 января)"}
{"id":"claudev-7ni","title":"DESIGN: Атомарный claim задачи (race condition)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-23T15:10:52.722763+03:00","created_by":"m","updated_at":"2026-01-23T15:11:15.70273+03:00","closed_at":"2026-01-23T15:11:15.70273+03:00","close_reason":"Beads уже поддерживает --claim (атомарный)"}
{"id":"claudev-8b1","title":"Написать промпт: Analyst-Architecture","description":"Переименовать helper-architecture→analyst-architecture. Включить: claim триггера, анализ архитектуры (coupling, patterns, tech debt), создание задач с --label=added-by:analyst-architecture, close триггера","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:35:32.847592+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.847592+03:00"}
{"id":"claudev-8fj","title":"Manager и оркестрация","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.838454+03:00","created_by":"m","updated_at":"2026-01-22T18:03:01.344082+03:00","closed_at":"2026-01-22T18:03:01.344082+03:00","close_reason":"Обсудили: Manager = Sonnet, stateless, определяет фазу по beads"}
{"id":"claudev-95v","title":"Создать tech-writer.md агента","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:58.814443+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.826956+03:00","closed_at":"2026-01-23T15:36:04.826956+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-95v","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:11.963227+03:00","created_by":"m"}]}
{"id":"claudev-9j0","title":"Обновить orchestrator.sh под новые фазы и роли","description":"Переписать orchestrator под новую архитектуру\n\n**Файл:** core/scripts/orchestrator.sh\n\n**Новая логика:**\n\n1. **Lock file (single instance):**\n```bash\nLOCK_FILE=\".claudev/orchestrator.lock\"\nif [ -f \"$LOCK_FILE\" ]; then\n    OLD_PID=$(cat \"$LOCK_FILE\")\n    if kill -0 \"$OLD_PID\" 2\u003e/dev/null; then\n        echo \"Already running (PID $OLD_PID)\"; exit 1\n    else\n        rm -f \"$LOCK_FILE\"  # stale lock\n    fi\nfi\necho $$ \u003e \"$LOCK_FILE\"\ntrap \"rm -f $LOCK_FILE\" EXIT\n```\n\n2. **Beads daemon check:**\n```bash\nbd sync --status || { log \"ORCHESTRATOR\" \"FATAL\" \"Beads daemon not running\"; exit 1; }\n```\n\n3. **Frontmatter parsing (модель агента):**\n```bash\nget_model() {\n    local agent_file=$1\n    grep \"^model:\" \"$agent_file\" | cut -d: -f2 | tr -d ' '\n}\n```\n\n4. **Timeout enforcement:**\n```bash\ntimeout 10m claude --model \"$MODEL\" -p \"...\"\n```\n\n5. **Мониторинг каждые 2h:**\n```bash\n# Логировать: \"Iteration running for Xh, Y tasks remaining\"\n```\n\n6. **Вызов detect-phase.sh** вместо логики в промпте\n\n7. **Использовать log.sh** вместо локальной функции log()\n\n**done_when:**\n- [ ] Lock file mechanism работает\n- [ ] Beads daemon проверяется при старте и каждые 10 циклов\n- [ ] Модель агента читается из frontmatter\n- [ ] Timeout 10m для каждого вызова claude\n- [ ] Использует ./scripts/detect-phase.sh\n- [ ] Использует source ./scripts/log.sh\n- [ ] Логирует через log \"ORCHESTRATOR\" \"EVENT\" \"message\"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.334544+03:00","created_by":"m","updated_at":"2026-01-23T16:50:59.036704+03:00","dependencies":[{"issue_id":"claudev-9j0","depends_on_id":"claudev-naw","type":"blocks","created_at":"2026-01-23T15:23:03.666885+03:00","created_by":"m"},{"issue_id":"claudev-9j0","depends_on_id":"claudev-rh5","type":"blocks","created_at":"2026-01-23T15:23:03.760924+03:00","created_by":"m"},{"issue_id":"claudev-9j0","depends_on_id":"claudev-qru","type":"blocks","created_at":"2026-01-23T16:23:59.059785+03:00","created_by":"m"}]}
{"id":"claudev-a28","title":"Обновить run-helpers.sh → run-analysts.sh","description":"Переименовать и обновить скрипт запуска аналитиков\n\n**Файл:** core/scripts/run-analysts.sh (был run-helpers.sh)\n\n**Логика:**\n1. Получает список из 5 analysts: ux, security, ops, reliability, architecture\n2. Для каждого запускает в background:\n```bash\ntimeout 10m claude --model sonnet -p \"Следуй .claude/agents/analyst-$NAME.md\" \u0026\n```\n3. Ждёт завершения всех (wait)\n4. Не проверяет результат — это делает Manager через bd\n\n**Важно:**\n- НЕ создаёт задачи-триггеры (это делает Manager)\n- Просто запускает 5 процессов параллельно\n- Использует source ./scripts/log.sh для логирования\n\n**done_when:**\n- [ ] Файл переименован в run-analysts.sh\n- [ ] Запускает 5 analysts параллельно\n- [ ] Timeout 10m на каждого\n- [ ] Модель sonnet для всех\n- [ ] Логирует старт/финиш каждого","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.105242+03:00","created_by":"m","updated_at":"2026-01-23T16:51:16.066075+03:00","dependencies":[{"issue_id":"claudev-a28","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:23:03.478606+03:00","created_by":"m"},{"issue_id":"claudev-a28","depends_on_id":"claudev-rh5","type":"blocks","created_at":"2026-01-23T15:23:03.952374+03:00","created_by":"m"}]}
{"id":"claudev-aak","title":"Роли и ответственности","notes":"Частично обсуждено: Tech Writer, Manager. Осталось: Architect, Analysts, Executors, Senior roles","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.418493+03:00","created_by":"m","updated_at":"2026-01-23T11:25:55.484894+03:00","closed_at":"2026-01-23T11:25:55.484894+03:00","close_reason":"Решено: MVP scope через Tech Writer, формат задачи (title/files/done_when), все роли определены"}
{"id":"claudev-ava","title":"Обновить install.sh (pre-commit hook, config.yaml, logs/archive, stats)","description":"Обновить установщик для целевого проекта\n\n**Файл:** install.sh\n\n**Что добавить:**\n\n1. **Pre-commit hook (gitleaks):**\n```bash\n# Проверить что gitleaks установлен\nif ! command -v gitleaks \u0026\u003e /dev/null; then\n    echo \"Warning: gitleaks not found. Install for secret scanning.\"\nfi\n# Добавить hook в .git/hooks/pre-commit\n```\n\n2. **Создание структуры:**\n```bash\nmkdir -p .claudev logs/archive stats\ncp templates/config.template.yaml .claudev/config.yaml\n```\n\n3. **Edge cases:**\n- Если .claude/ существует — спросить: merge или skip?\n- Если scripts/ существует — спросить: overwrite или skip?\n- Если .claudev/ существует — это переустановка, спросить подтверждение\n\n4. **Симлинки:**\n```bash\nln -sf .claudev/core/agents .claude/agents\nln -sf .claudev/core/commands .claude/commands\nln -sf .claudev/core/scripts scripts\n```\n\n5. **Права на скрипты:**\n```bash\nchmod +x scripts/*.sh\n```\n\n**done_when:**\n- [ ] Pre-commit hook добавляется (с warning если нет gitleaks)\n- [ ] Создаётся .claudev/config.yaml из шаблона\n- [ ] Создаётся logs/archive и stats\n- [ ] Обрабатывает существующие директории (спрашивает)\n- [ ] Симлинки создаются корректно\n- [ ] Скрипты executable","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.693185+03:00","created_by":"m","updated_at":"2026-01-23T16:51:32.269+03:00","dependencies":[{"issue_id":"claudev-ava","depends_on_id":"claudev-0ax","type":"blocks","created_at":"2026-01-23T16:23:58.961974+03:00","created_by":"m"}]}
{"id":"claudev-bz7","title":"Написать промпт: Senior Executor","description":"Полностью новый агент (из reviewer). Включить: code review, merge в main, проверка CI (если есть), rollback при CI fail, release (tag + CHANGELOG), последовательная работа, quality gate checklist","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:35:32.288674+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.288674+03:00"}
{"id":"claudev-cf9","title":"Документировать: детали фазы PLAN_REVIEW","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:50.026547+03:00","created_by":"m","updated_at":"2026-01-23T15:29:59.646675+03:00","closed_at":"2026-01-23T15:29:59.646675+03:00","close_reason":"Решение: label added-by:analyst-*, задача-триггер run-plan-review"}
{"id":"claudev-cr1","title":"Границы итераций и MVP","notes":"Частично: итерации через секции в SPEC.md. Осталось: кто определяет MVP scope","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.605411+03:00","created_by":"m","updated_at":"2026-01-23T11:25:55.468923+03:00","closed_at":"2026-01-23T11:25:55.468923+03:00","close_reason":"Решено: MVP scope через Tech Writer, формат задачи (title/files/done_when), все роли определены"}
{"id":"claudev-hkb","title":"Удалить устаревшие файлы агентов (helper-*, coder.md, reviewer.md, analyst.md)","description":"Удалить устаревшие файлы агентов после создания новых\n\n**Удалить из core/agents/:**\n- helper-architecture.md\n- helper-ops.md\n- helper-reliability.md\n- helper-ux.md\n- coder.md\n- reviewer.md\n- analyst.md\n\n**Оставить (будут переписаны):**\n- manager.md\n- architect.md\n\n**Важно:** Выполнять ПОСЛЕ того как все новые промпты написаны (зависимости в beads)\n\n**done_when:**\n- [ ] Все 7 устаревших файлов удалены\n- [ ] git rm для удаления из индекса\n- [ ] Новые файлы на месте (analyst-*.md, executor.md, senior-executor.md, tech-writer.md)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:59.03615+03:00","created_by":"m","updated_at":"2026-01-23T16:51:32.366879+03:00","dependencies":[{"issue_id":"claudev-hkb","depends_on_id":"claudev-wxe","type":"blocks","created_at":"2026-01-23T15:36:35.048887+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-4zm","type":"blocks","created_at":"2026-01-23T15:36:35.101876+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-v5m","type":"blocks","created_at":"2026-01-23T15:36:35.152822+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-q5a","type":"blocks","created_at":"2026-01-23T15:36:35.204856+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-bz7","type":"blocks","created_at":"2026-01-23T15:36:35.257475+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-3u4","type":"blocks","created_at":"2026-01-23T15:36:35.354566+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-1ij","type":"blocks","created_at":"2026-01-23T15:36:35.405829+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-3ls","type":"blocks","created_at":"2026-01-23T15:36:35.459945+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-lni","type":"blocks","created_at":"2026-01-23T15:36:35.519929+03:00","created_by":"m"},{"issue_id":"claudev-hkb","depends_on_id":"claudev-8b1","type":"blocks","created_at":"2026-01-23T15:36:35.571954+03:00","created_by":"m"}]}
{"id":"claudev-jtk","title":"Подтвердить: rollback при падении CI","description":"Предложение: git revert + возврат задачи в open с ошибкой. Нужно подтверждение.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:26:05.430551+03:00","created_by":"m","updated_at":"2026-01-23T12:16:37.553496+03:00","closed_at":"2026-01-23T12:16:37.553496+03:00","close_reason":"Решено: см. PROJECT.md (23 января)"}
{"id":"claudev-kre","title":"Обновить architect.md под новые решения","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:59.274273+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.823593+03:00","closed_at":"2026-01-23T15:36:04.823593+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-kre","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.232577+03:00","created_by":"m"}]}
{"id":"claudev-lni","title":"Написать промпт: Analyst-Reliability","description":"Переименовать helper-reliability→analyst-reliability. Включить: claim триггера, анализ надёжности (error handling, retries, timeouts, edge cases), создание задач с --label=added-by:analyst-reliability, close триггера","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:35:32.737413+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.737413+03:00"}
{"id":"claudev-m75","title":"Проектирование системы Claudev","description":"EPIC: Редизайн системы под новые требования","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-22T17:27:38.585898+03:00","created_by":"m","updated_at":"2026-01-23T15:06:48.605627+03:00","closed_at":"2026-01-23T15:06:48.605627+03:00","close_reason":"Проектирование завершено, все решения задокументированы в PROJECT.md"}
{"id":"claudev-naw","title":"Обновить detect-phase.sh под новые фазы","description":"Обновить скрипт определения фазы проекта\n\n**Файл:** core/scripts/detect-phase.sh\n\n**Фазы (в порядке проверки):**\n1. INIT — нет SPEC.md\n2. PLANNING — есть SPEC.md, нет задач с type=task\n3. HELPERS — есть задачи, но run-analyst-* не все closed\n4. PLAN_REVIEW — analysts done, run-plan-review не closed\n5. IMPLEMENTATION — есть open задачи type=task\n6. FINAL_REVIEW — все task closed, run-final-review не closed\n7. DONE — всё closed\n\n**Логика определения:**\n```bash\n# Проверки через bd list с фильтрами\n# Возвращает одно слово: INIT|PLANNING|HELPERS|...\n```\n\n**Вывод:** только название фазы (одно слово), без лишнего текста\n\n**done_when:**\n- [ ] Скрипт возвращает одну из 7 фаз\n- [ ] Использует bd list для проверки состояния\n- [ ] Проверяет наличие SPEC.md для INIT\n- [ ] Проверяет задачи-триггеры (run-analyst-*, run-plan-review, run-final-review)\n- [ ] Выход 0, вывод только название фазы","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.467454+03:00","created_by":"m","updated_at":"2026-01-23T16:50:52.805955+03:00","dependencies":[{"issue_id":"claudev-naw","depends_on_id":"claudev-cf9","type":"blocks","created_at":"2026-01-23T15:23:03.857235+03:00","created_by":"m"}]}
{"id":"claudev-q5a","title":"Написать промпт: Executor","description":"Переименовать coder→executor. Включить: bd update --claim, создание ветки task/beads-xxx, реализация + тесты, один коммит в конце, bd close, НЕ брать следующую задачу","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:35:32.170915+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.170915+03:00"}
{"id":"claudev-qgo","title":"Обновить templates/ под новую архитектуру","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:22:49.803606+03:00","created_by":"m","updated_at":"2026-01-23T15:22:49.803606+03:00"}
{"id":"claudev-qru","title":"Создать log.sh хелпер для логирования","description":"Создать хелпер для логирования в logs/claudev.log\n\n**Файл:** core/scripts/log.sh\n\n**Реализация:**\n```bash\n#!/bin/bash\nlog() {\n    local agent=$1 event=$2 message=$3\n    echo \"$(date '+%Y-%m-%d %H:%M:%S') [$agent] $event: $message\" \u003e\u003e logs/claudev.log\n}\n```\n\n**Формат вывода:**\n```\n2026-01-23 15:30:45 [MANAGER] PHASE: IMPLEMENTATION\n2026-01-23 15:30:46 [EXECUTOR] TASK_START: claudev-abc \"Добавить кнопку\"\n2026-01-23 15:35:12 [EXECUTOR] ERROR: git push failed\n```\n\n**События для логирования:**\n- PHASE — переходы между фазами\n- TASK_START, TASK_DONE, TASK_RETURNED — работа с задачами\n- ERROR — ошибки с контекстом\n- DECISION — решения агентов\n- INFO — информационные сообщения\n\n**done_when:**\n- [ ] Файл core/scripts/log.sh создан и executable\n- [ ] Функция log() принимает 3 параметра: agent, event, message\n- [ ] Append в logs/claudev.log (создаёт если нет)\n- [ ] Формат: \"YYYY-MM-DD HH:MM:SS [AGENT] EVENT: message\"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:58.588679+03:00","created_by":"m","updated_at":"2026-01-23T16:50:26.67066+03:00"}
{"id":"claudev-r2e","title":"Удалить или переработать claim-task.sh (используем bd update --claim)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T15:22:49.58226+03:00","created_by":"m","updated_at":"2026-01-23T15:22:49.58226+03:00"}
{"id":"claudev-rh5","title":"Документировать: как Manager определяет завершение analysts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.914646+03:00","created_by":"m","updated_at":"2026-01-23T15:26:31.157473+03:00","closed_at":"2026-01-23T15:26:31.157473+03:00","close_reason":"Решение: задачи-триггеры для каждого analyst"}
{"id":"claudev-sal","title":"Обновить executor.md (задачи, git workflow, --claim)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:59.383418+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.822024+03:00","closed_at":"2026-01-23T15:36:04.822024+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-sal","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.324995+03:00","created_by":"m"},{"issue_id":"claudev-sal","depends_on_id":"claudev-ucj","type":"blocks","created_at":"2026-01-23T15:23:04.047723+03:00","created_by":"m"}]}
{"id":"claudev-sc3","title":"Обновить analyst-*.md агентов (5 штук)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T15:06:59.604449+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.828506+03:00","closed_at":"2026-01-23T15:36:04.828506+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-sc3","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.605308+03:00","created_by":"m"}]}
{"id":"claudev-uao","title":"Решить: кто делает релиз","description":"Варианты: A) Release Agent (новая роль), B) Architect, C) Senior Executor. Релиз = version bump + changelog + git tag + gh release.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T11:26:05.764778+03:00","created_by":"m","updated_at":"2026-01-23T12:16:37.556406+03:00","closed_at":"2026-01-23T12:16:37.556406+03:00","close_reason":"Решено: см. PROJECT.md (23 января)"}
{"id":"claudev-ucj","title":"Документировать: стратегия частых коммитов Executor","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T15:22:50.135867+03:00","created_by":"m","updated_at":"2026-01-23T15:31:03.635419+03:00","closed_at":"2026-01-23T15:31:03.635419+03:00","close_reason":"Решение: один коммит в конце, задачи короткие, retry покрывает"}
{"id":"claudev-v5m","title":"Написать промпт: Architect","description":"Обновить под новые решения. Включить: создание плана из SPEC.md, назначение моделей задачам, установка deps, проверка циклов, PLAN_REVIEW (фильтр по label added-by:analyst-*, удаление дубликатов, разрешение противоречий Security\u003eUX)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:35:32.055896+03:00","created_by":"m","updated_at":"2026-01-23T15:35:32.055896+03:00"}
{"id":"claudev-v5z","title":"Обновить run-coders.sh → run-executors.sh","description":"Переименовать и обновить скрипт запуска исполнителей\n\n**Файл:** core/scripts/run-executors.sh (был run-coders.sh)\n\n**Логика:**\n1. Читает MAX_PARALLEL из config.yaml (default: 3)\n2. Получает ready задачи: bd ready | head -\\$MAX_PARALLEL\n3. Для каждой задачи:\n   - Читает модель из description задачи (поле model:)\n   - Запускает в background:\n```bash\ntimeout 10m claude --model \"$MODEL\" -p \"Выполни задачу $TASK_ID. Следуй .claude/agents/executor.md\" \u0026\n```\n4. Ждёт завершения всех (wait)\n\n**Важно:**\n- Executor сам делает bd update --claim внутри промпта\n- Скрипт только запускает процессы\n- Race condition невозможен (bd гарантирует атомарность claim)\n\n**done_when:**\n- [ ] Файл переименован в run-executors.sh\n- [ ] Читает MAX_PARALLEL из .claudev/config.yaml\n- [ ] Запускает до MAX_PARALLEL executor'ов\n- [ ] Модель берётся из задачи (default: sonnet)\n- [ ] Timeout 10m на каждого","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:22:49.22267+03:00","created_by":"m","updated_at":"2026-01-23T16:51:16.195391+03:00","dependencies":[{"issue_id":"claudev-v5z","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:23:03.57321+03:00","created_by":"m"}]}
{"id":"claudev-wb5","title":"Smoke test: проверить запуск orchestrator и определение фаз","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T16:25:42.864013+03:00","created_by":"m","updated_at":"2026-01-23T16:25:42.864013+03:00","dependencies":[{"issue_id":"claudev-wb5","depends_on_id":"claudev-9j0","type":"blocks","created_at":"2026-01-23T16:25:49.182531+03:00","created_by":"m"},{"issue_id":"claudev-wb5","depends_on_id":"claudev-naw","type":"blocks","created_at":"2026-01-23T16:25:49.23349+03:00","created_by":"m"},{"issue_id":"claudev-wb5","depends_on_id":"claudev-qru","type":"blocks","created_at":"2026-01-23T16:25:49.28546+03:00","created_by":"m"}]}
{"id":"claudev-wsx","title":"Обработка ошибок","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T17:27:44.72829+03:00","created_by":"m","updated_at":"2026-01-22T17:56:01.609287+03:00","closed_at":"2026-01-22T17:56:01.609287+03:00","close_reason":"Обсудили: retry 3x, эскалация к Architect, decision issues с вариантами для user"}
{"id":"claudev-wxe","title":"Написать промпт: Tech Writer","description":"Полностью новый агент. Включить: сбор требований, формат вопросов user, формирование SPEC.md, создание config.yaml, валидация перед передачей Architect, таймаут 30мин на ответ user","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T15:35:31.787714+03:00","created_by":"m","updated_at":"2026-01-23T15:35:31.787714+03:00"}
{"id":"claudev-yhe","title":"Обновить senior-executor.md (code review, merge, CI/CD)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-23T15:06:59.494297+03:00","created_by":"m","updated_at":"2026-01-23T15:36:04.81843+03:00","closed_at":"2026-01-23T15:36:04.81843+03:00","close_reason":"Дубликаты: заменены на детальные задачи 'Написать промпт'","dependencies":[{"issue_id":"claudev-yhe","depends_on_id":"claudev-hkb","type":"blocks","created_at":"2026-01-23T15:07:12.418714+03:00","created_by":"m"}]}
